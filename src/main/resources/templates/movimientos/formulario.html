<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
      layout:decorate="~{layout}">
<head>
    <title>Nuevo Movimiento</title>
</head>
<style>
    /* ====== PALETA INSTITUCIONAL ITCA-FEPADE ====== */
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        background-color: #F5F6FA;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: #2D2D2D;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    body {
        animation: fadeIn 0.6s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .max-w-xl {
        max-width: 650px;
        width: 95%;
    }

    .bg-white {
        background-color: #FFFFFF;
        border-radius: 16px;
        padding: 32px;
        margin: 40px auto;
        box-shadow: 0 6px 16px rgba(0, 32, 91, 0.15);
        animation: slideUp 0.5s ease-out;
    }

    @keyframes slideUp {
        from { transform: translateY(15px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    h1 {
        color: #00205B;
        font-weight: 800;
        font-size: 26px;
        text-align: center;
        margin-bottom: 24px;
        border-bottom: 3px solid #00205B;
        padding-bottom: 10px;
    }

    label {
        display: block;
        font-weight: 600;
        color: #00205B;
        margin-bottom: 6px;
    }

    input[type="number"],
    input[type="text"],
    textarea,
    select {
        width: 100%;
        padding: 10px 14px;
        border: 1.8px solid #CCD2E3;
        border-radius: 10px;
        background-color: #FFFFFF;
        transition: all 0.3s ease-in-out;
        font-size: 15px;
        margin-bottom: 6px;
    }

    input:focus,
    textarea:focus,
    select:focus {
        border-color: #00205B;
        box-shadow: 0 0 6px rgba(0, 32, 91, 0.25);
        outline: none;
    }

    textarea {
        resize: vertical;
        min-height: 80px;
    }

    .error {
        color: #C8102E;
        font-size: 14px;
        margin-bottom: 10px;
        font-weight: 500;
        animation: fadeError 0.3s ease-in;
    }

    @keyframes fadeError {
        from { opacity: 0; transform: translateY(-3px); }
        to { opacity: 1; transform: translateY(0); }
    }

    button {
        background-color: #00205B;
        color: #FFFFFF;
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease-in-out;
        box-shadow: 0 4px 8px rgba(0, 32, 91, 0.25);
    }

    button:hover {
        background-color: #003D99;
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 32, 91, 0.35);
    }

    a.text-gray-600 {
        color: #6B7280;
        font-weight: 600;
        text-decoration: none;
        padding: 10px 18px;
        border-radius: 8px;
        transition: color 0.3s ease-in-out, transform 0.2s;
    }

    a.text-gray-600:hover {
        color: #C8102E;
        text-decoration: underline;
        transform: translateY(-1px);
    }

    .flex {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 20px;
    }

    footer {
        height: 40px;
        background: transparent;
    }
</style>

<body>
<div layout:fragment="content">
    <div class="max-w-xl mx-auto bg-white p-6 rounded shadow">
        <h1>Registrar Movimiento</h1>

        <form th:action="@{/movimientos/guardar}" th:object="${movimiento}" method="post">

            <!-- INVENTARIO -->
            <label>Inventario:</label>
            <select name="inventarioId" class="border p-2 w-full mb-3">
                <option value="">Seleccione...</option>
                <option th:each="inv : ${inventarios}" th:value="${inv.id}" th:text="${inv.nombre}"></option>
            </select>
            <p th:if="${#fields.hasErrors('inventario')}" th:errors="*{inventario}" class="error"></p>

            <!-- TIPO -->
            <label>Tipo:</label>
            <select th:field="*{tipo}" class="border p-2 w-full mb-3">
                <option value="">Seleccione...</option>
                <option th:each="t : ${tipos}" th:value="${t}" th:text="${t}"></option>
            </select>
            <p th:if="${#fields.hasErrors('tipo')}" th:errors="*{tipo}" class="error"></p>

            <!-- CANTIDAD -->
            <label>Cantidad:</label>
            <input type="number" th:field="*{cantidad}" min="1" required>
            <p th:if="${#fields.hasErrors('cantidad')}" th:errors="*{cantidad}" class="error"></p>

            <!-- RESPONSABLE -->
            <label>Responsable:</label>
            <input type="text" th:field="*{responsable}" placeholder="Nombre del responsable">
            <p th:if="${#fields.hasErrors('responsable')}" th:errors="*{responsable}" class="error"></p>

            <!-- OBSERVACIÓN -->
            <label>Observación:</label>
            <textarea th:field="*{observacion}" placeholder="Detalles del movimiento"></textarea>
            <p th:if="${#fields.hasErrors('observacion')}" th:errors="*{observacion}" class="error"></p>

            <div class="flex justify-between">
                <button type="submit">Guardar</button>
                <a href="/movimientos" class="text-gray-600">Cancelar</a>
            </div>
        </form>
    </div>
</div>
</body>
</html>
